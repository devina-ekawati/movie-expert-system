<!DOCTYPE html>
<html>
<head>
    <title>Movie Expert System</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/css/select2.min.css" rel="stylesheet" />
	<script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$(".js-example-basic-multiple").select2();
		});
		function myFunction() {
		    // alert("Selected value is: "+$(".js-example-basic-multiple").select2("val"));
		    $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
		    $.getJSON($SCRIPT_ROOT + '/', {
	        	selected: $(".js-example-basic-multiple").select2("val")
	      }, function(data) {

	      });
		}

	</script>
</head>
<body>
	<div class="container">
		<div class="page-header center-block">
			<h1>Movie Expert System</h1>
			<h4>Recommend movies based on your favorite movies</h4>	
		</div>

		<form class="form-horizontal" method="POST">
			<div class="form-group">
				<label class="col-sm-4 control-label" for="keyword">Your favorite movies</label>
				<div class="col-sm-6">
					<select name="keyword" class="js-example-basic-multiple" multiple="multiple">
						{% for movie in moviesList %}
							<option value="{{ loop.index0 + 1 }}">{{ movie }}</option>
						{% endfor %}
					</select>
				</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-4 col-sm-6">
						<button type="submit" class="btn btn-primary">Get Recommendation</button>
					</div>
				</div>
			</div>
		</form>

		{% if not search %}
			<br><br>
			<div class="container">
				<p>Recommended movies for you</p>

				<ul class="list-group">
					{% for movie in movies %}
						<li class="list-group-item">{{ movie }}</li>
					{% endfor %}	
				</ul>	
			</div>
		{% endif %}
		
	</div>
</body>
</html>